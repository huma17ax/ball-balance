{"version":3,"sources":["webpack:///./src/App.vue?7d5b","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/Ball.vue","webpack:///./src/components/Ball.vue?93ad","webpack:///./src/components/Ball.vue","webpack:///src/components/Flame.vue","webpack:///./src/components/Flame.vue?d7d0","webpack:///./src/components/Flame.vue","webpack:///src/components/Main.vue","webpack:///./src/components/Main.vue?5337","webpack:///./src/components/Main.vue","webpack:///src/components/Title.vue","webpack:///./src/components/Title.vue?6b64","webpack:///./src/components/Title.vue","webpack:///./src/router/index.js","webpack:///./src/store/manager.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","Ball","data","pos","x","y","velocity","keyForce","friction","repulsion","collisionPoint","pressedKey","dots","corn","computed","extends_default","Object","vuex_esm","posStyle","top","ballSize","left","mapchipSize","watch","startPos","mapWidth","mapHeight","methods","dotsStyle","Rec2Pol","c","Math","sqrt","pow","d","atan","PI","deg","Pol2Rec","cos","sin","run","console","log","gyro","gamma","force","controllType","isAvailableGyro","beta","diff","tmpX","deltaTime","tmpY","radiusY","radiusX","upside","mapchips","floor","downside","leftside","rightside","tend","corner","isCorner","cx1","cy1","cx2","cy2","polCollision","rec","polVel","KeyDown","e","keyCode","KeyUp","mounted","window","addEventListener","components_Ball","_vm","staticClass","style","height","width","_v","_l","key","Flame","components","ball","Ball_normalizeComponent","$refs","mapchipStyle","row","col","color","background-color","flameStyle","marginStyle","sizeTB","screenHeight","sizeLR","screenWidth","margin-top","margin-bottom","margin-left","margin-right","components_Flame","index_r","chip","index_c","ref","Main","flame","Flame_normalizeComponent","permission","windowResize","$store","dispatch","innerWidth","innerHeight","getDeviceGyro","dat","alpha","updateFlg","_this","then","beforeDestroy","removeEventListener","components_Main","_s","src_components_Main","Main_normalizeComponent","Title","requestDeviceSensor","DeviceOrientationEvent","requestPermission","response","$router","push","components_Title","staticStyle","z-index","position","on","click","$event","src_components_Title","Title_normalizeComponent","Vue","use","Router","router","routes","path","component","manager","namespaced","state","fps","intervalID","undefined","gyroAvailable","actions","initState","_ref","commit","setDeviceGyro","_ref2","_ref3","startUpdateAsync","_ref4","setInterval","stopUpdateAsync","_ref5","clearInterval","setScreenSize","_ref6","_ref7","loadMapChips","_ref8","setControllType","_ref9","type","getters","min","mutations","inversionUpdateFlg","setDeltaTime","time","setIntervalID","setScreenHeight","setScreenWidth","setMapChips","chips","length","setStartPos","abs","Vuex","store","Store","modules","config","productionTip","el","App","template"],"mappings":"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","file":"static/js/app.cb77cbbd24c71dbc4e28.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-56f050ac\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-56f050ac\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-56f050ac\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  width: 100%;\n  height: 100%;\n}\n\nhtml,body {\n    width: 100%;\n    height: 100%;\n    margin: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n    <div>\n        <div\n        class=\"ball\"\n        v-bind:style=\"[posStyle, {'height': ballSize+'px', 'width': ballSize+'px'}]\"\n        >\n        </div>\n\n        <div\n        v-for=\"d in dots\"\n        v-bind:key=\"d.id\"\n        class = \"dot\"\n        v-bind:style = \"dotsStyle(d.x,d.y)\">\n        </div>\n        <div class=\"corn\"\n        v-bind:style = \"dotsStyle(corn.x,corn.y)\"></div>\n        <div class=\"vector\"\n        v-bind:style = \"dotsStyle(pos.x+velocity.x/100 , pos.y+velocity.y/100)\"></div>\n    </div>\n</template>\n\n<script>\n\nimport { mapState, mapGetters } from 'vuex'\n\nexport default {\n  name: 'Ball',\n  data: function () {\n    return {\n      pos: {/* フレームサイズに対するパーセンテージ */\n        x: 0,\n        y: 0\n      },\n      // speed: 100,/*自分の大きさに対するパーセンテージ*/\n      velocity: {\n        x: 0,\n        y: 0\n      },\n      keyForce: 240,\n      friction: 96,\n      repulsion: 0.5,\n      collisionPoint: 10, // * 4\n      pressedKey: {},\n      dots: [],\n      corn: {x: 0, y: 0}\n    }\n  },\n  computed: {\n    ...mapState('manager', ['deltaTime', 'updateFlg', 'screenWidth', 'screenHeight', 'mapchips', 'mapWidth', 'mapHeight', 'startPos', 'controllType', 'gyro', 'isAvailableGyro']),\n    ...mapGetters('manager', ['mapchipSize']),\n    posStyle: function () {\n      return {top: 'calc(' + this.pos.y + '% - ' + this.ballSize / 2 + 'px)', left: 'calc(' + this.pos.x + '% - ' + this.ballSize / 2 + 'px)'}\n    },\n    ballSize: function () {\n      return this.mapchipSize / 2\n    }\n  },\n  watch: {\n    startPos: function () {\n      this.pos.x = 100 * (this.startPos.x + 0.5) / this.mapWidth\n      this.pos.y = 100 * (this.startPos.y + 0.5) / this.mapHeight\n    }\n  },\n  methods: {\n    dotsStyle: function (x, y) {\n      return {top: 'calc(' + y + '% - ' + 2 + 'px)', left: 'calc(' + x + '% - ' + 2 + 'px)'}\n    },\n    Rec2Pol: function (x, y) { // 直交→極\n      var c = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2))\n      var d = Math.atan(y / x)\n      if (x < 0) d += Math.PI\n      if (x >= 0 && y < 0) d += Math.PI * 2\n      return {c: c, deg: d}\n    },\n    Pol2Rec: function (c, deg) { // 極→直交\n      var x = c * Math.cos(deg)\n      var y = c * Math.sin(deg)\n      return {x: x, y: y}\n    },\n    run: function () {\n    //   console.log(this.screenWidth + ' / ' + this.screenHeight)\n      console.log(this.gyro.gamma)\n      // 力をかける\n      var force = {x: 0, y: 0}\n\n      if (this.controllType === 'keyboard') {\n        if (this.pressedKey['DownArrow']) {\n          force.y += this.keyForce\n        }\n        if (this.pressedKey['UpArrow']) {\n          force.y -= this.keyForce\n        }\n        if (this.pressedKey['LeftArrow']) {\n          force.x -= this.keyForce\n        }\n        if (this.pressedKey['RightArrow']) {\n          force.x += this.keyForce\n        }\n      }\n\n      if (this.controllType === 'gyro' && this.isAvailableGyro === true) {\n        force.x += this.keyForce * this.gyro.gamma / 90\n        force.y += this.keyForce * this.gyro.beta / 90\n      }\n\n      // 摩擦・速度と逆方向\n      if (this.velocity.x !== 0 || this.velocity.y !== 0) {\n        var diff = Math.sqrt(Math.pow(this.velocity.x, 2) + Math.pow(this.velocity.y, 2))\n        force.x -= this.friction * this.velocity.x / diff\n        force.y -= this.friction * this.velocity.y / diff\n      }\n\n      // console.log(this.velocity.x + \" : \" + this.velocity.y)\n\n      // 速度の更新\n      var tmpX = this.velocity.x + force.x * this.deltaTime\n      var tmpY = this.velocity.y + force.y * this.deltaTime\n      if ((tmpX * this.velocity.x < 0 && tmpY * this.velocity.y < 0) ||\n      (tmpX * this.velocity.x < 0 && tmpY === 0 && this.velocity.y === 0) ||\n      (tmpX === 0 && this.velocity.x === 0 && tmpY * this.velocity.y < 0)) {\n        // 摩擦で速度が逆転しないようにする\n        this.velocity.x = 0\n        this.velocity.y = 0\n      } else {\n        this.velocity.x = tmpX\n        this.velocity.y = tmpY\n      }\n\n      // console.log(\"=\" + this.velocity.x + \"--\" + this.velocity.y + \"=\")\n\n      // console.log(this.velocity.x + \" : \" + this.velocity.y)\n      // console.log(this.pos.x + \" / \" + this.pos.y)\n\n      // 衝突判定\n      var radiusY = 100 / this.mapHeight * this.ballSize / this.mapchipSize / 2\n      var radiusX = 100 / this.mapWidth * this.ballSize / this.mapchipSize / 2\n\n      //   console.log(this.pos.x + \" / \" + this.pos.y)\n\n      // 上下左右\n      var upside = {x: this.pos.x, y: this.pos.y - radiusY}\n      if (this.mapchips[Math.floor(upside.y / 100 * this.mapHeight)][Math.floor(upside.x / 100 * this.mapWidth)] === 'black') {\n        this.pos.y = (Math.floor(upside.y / 100 * this.mapHeight) + 1) * 100 / this.mapHeight + radiusY\n        this.velocity.y = -this.velocity.y * this.repulsion\n      }\n      var downside = {x: this.pos.x, y: this.pos.y + radiusY}\n      if (this.mapchips[Math.floor(downside.y / 100 * this.mapHeight)][Math.floor(downside.x / 100 * this.mapWidth)] === 'black') {\n        this.pos.y = (Math.floor(downside.y / 100 * this.mapHeight)) * 100 / this.mapHeight - radiusY\n        this.velocity.y = -this.velocity.y * this.repulsion\n      }\n      var leftside = {x: this.pos.x - radiusX, y: this.pos.y}\n      if (this.mapchips[Math.floor(leftside.y / 100 * this.mapHeight)][Math.floor(leftside.x / 100 * this.mapWidth)] === 'black') {\n        this.pos.x = (Math.floor(leftside.x / 100 * this.mapWidth) + 1) * 100 / this.mapWidth + radiusX\n        this.velocity.x = -this.velocity.x * this.repulsion\n      }\n      var rightside = {x: this.pos.x + radiusX, y: this.pos.y}\n      if (this.mapchips[Math.floor(rightside.y / 100 * this.mapHeight)][Math.floor(rightside.x / 100 * this.mapWidth)] === 'black') {\n        this.pos.x = (Math.floor(rightside.x / 100 * this.mapWidth)) * 100 / this.mapWidth - radiusX\n        this.velocity.x = -this.velocity.x * this.repulsion\n      }\n\n      // 弧  右上左下\n\n      // 接触する可能性のある角の座標(%)\n      var tend = {\n        x: this.pos.x / 100 * this.mapWidth - Math.floor(this.pos.x / 100 * this.mapWidth) - 0.5,\n        y: this.pos.y / 100 * this.mapHeight - Math.floor(this.pos.y / 100 * this.mapHeight) - 0.5\n      }\n\n      var corner = {\n        x: Math.floor(this.pos.x / 100 * this.mapWidth) * 100 / this.mapWidth + (tend.x > 0 ? 100 / this.mapWidth : 0),\n        y: Math.floor(this.pos.y / 100 * this.mapHeight) * 100 / this.mapHeight + (tend.y > 0 ? 100 / this.mapHeight : 0)\n      }\n\n      // そこが角であるかどうか\n      var isCorner = this.mapchips[Math.floor(this.pos.y / 100 * this.mapHeight) + (tend.y < 0 ? -1 : 1)][Math.floor(this.pos.x / 100 * this.mapWidth) + (tend.x < 0 ? -1 : 1)] === 'black'\n      isCorner = isCorner && this.mapchips[Math.floor(this.pos.y / 100 * this.mapHeight)][Math.floor(this.pos.x / 100 * this.mapWidth) + (tend.x < 0 ? -1 : 1)] === 'white'\n      isCorner = isCorner && this.mapchips[Math.floor(this.pos.y / 100 * this.mapHeight) + (tend.y < 0 ? -1 : 1)][Math.floor(this.pos.x / 100 * this.mapWidth)] === 'white'\n\n      if (isCorner) {\n        //   console.log(this.mapchipSize)\n        //   console.log(corner.x)\n        var cx1 = this.mapchipSize * this.mapWidth * corner.x / 100\n        var cy1 = this.mapchipSize * this.mapHeight * corner.y / 100\n        var cx2 = this.mapchipSize * this.mapWidth * this.pos.x / 100\n        var cy2 = this.mapchipSize * this.mapHeight * this.pos.y / 100\n\n        //   console.log(cx1 + \" : \" + cx2 + \" / \" + cy1 + \" : \" + cy2 + \" / \" + this.ballSize/2)\n\n        if (Math.sqrt(Math.pow(cx1 - cx2, 2) + Math.pow(cy1 - cy2, 2)) < this.ballSize / 2) {\n          // 衝突している\n\n          // 位置の調整\n          var polCollision = this.Rec2Pol(this.mapchipSize * this.mapWidth * (this.pos.x - corner.x) / 100, this.mapchipSize * this.mapHeight * (this.pos.y - corner.y) / 100)\n          var rec = this.Pol2Rec(this.ballSize / 2, polCollision.deg)\n          this.pos.x = corner.x + (rec.x / this.mapchipSize / this.mapWidth) * 100\n          this.pos.y = corner.y + (rec.y / this.mapchipSize / this.mapHeight) * 100\n\n          // 反発\n          if (this.velocity.x !== 0 && this.velocity.y !== 0) {\n            var polVel = this.Rec2Pol(this.velocity.x, this.velocity.y)\n            rec = this.Pol2Rec(polVel.c, polVel.deg - polCollision.deg)\n            polVel = this.Rec2Pol(-rec.x * this.repulsion, rec.y)\n            rec = this.Pol2Rec(polVel.c, polVel.deg + polCollision.deg)\n            this.velocity.x = rec.x\n            this.velocity.y = rec.y\n          }\n        }\n      }\n\n      // 移動\n      this.pos.x += this.velocity.x / 2 / this.mapWidth * this.deltaTime\n      this.pos.y += this.velocity.y / 2 / this.mapHeight * this.deltaTime\n    },\n    KeyDown: function (e) {\n      if (e.keyCode === 40) this.pressedKey['DownArrow'] = true\n      if (e.keyCode === 38) this.pressedKey['UpArrow'] = true\n      if (e.keyCode === 39) this.pressedKey['RightArrow'] = true\n      if (e.keyCode === 37) this.pressedKey['LeftArrow'] = true\n    },\n    KeyUp: function (e) {\n      if (e.keyCode === 40) this.pressedKey['DownArrow'] = false\n      if (e.keyCode === 38) this.pressedKey['UpArrow'] = false\n      if (e.keyCode === 39) this.pressedKey['RightArrow'] = false\n      if (e.keyCode === 37) this.pressedKey['LeftArrow'] = false\n    }\n  },\n  mounted: function () {\n    // this.pos.x = 100 * (this.startPos.x+0.5) / this.mapWidth\n    // this.pos.y = 100 * (this.startPos.y+0.5) / this.mapHeight\n    window.addEventListener('keydown', this.KeyDown)\n    window.addEventListener('keyup', this.KeyUp)\n  }\n}\n</script>\n\n<style scoped>\n\n.ball {\n    position: absolute;\n    border-radius: 50%;\n    background-color: red;\n}\n\n.dot {\n  position: absolute;\n  background-color: aqua;\n  height: 4px;\n  width:4px;\n}\n\n.corn {\n  position: absolute;\n  background-color: pink;\n  height: 4px;\n  width:4px;\n}\n\n.vector{\n  position: absolute;\n  background-color: green;\n  height: 4px;\n  width: 4px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Ball.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"ball\",style:([_vm.posStyle, {'height': _vm.ballSize+'px', 'width': _vm.ballSize+'px'}])}),_vm._v(\" \"),_vm._l((_vm.dots),function(d){return _c('div',{key:d.id,staticClass:\"dot\",style:(_vm.dotsStyle(d.x,d.y))})}),_vm._v(\" \"),_c('div',{staticClass:\"corn\",style:(_vm.dotsStyle(_vm.corn.x,_vm.corn.y))}),_vm._v(\" \"),_c('div',{staticClass:\"vector\",style:(_vm.dotsStyle(_vm.pos.x+_vm.velocity.x/100 , _vm.pos.y+_vm.velocity.y/100))})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1c48fb2e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Ball.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1c48fb2e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Ball.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Ball.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Ball.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1c48fb2e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Ball.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1c48fb2e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Ball.vue\n// module id = null\n// module chunks = ","<template>\n    <div\n    class = \"flame\"\n    v-bind:style=\"[flameStyle, marginStyle]\"\n    >\n        <div v-for=\"(row,index_r) in mapchips\" v-bind:key=\"row.id\"\n        class = \"maprow\">\n            <div v-for=\"(chip,index_c) in row\" v-bind:key=\"chip.id\"\n            class = \"mapchip\"\n            v-bind:style=\"mapchipStyle(index_r,index_c)\">\n            </div>\n        </div>\n        <ball ref=\"ball\"></ball>\n    </div>\n</template>\n\n<script>\nimport ball from './Ball'\nimport {mapState, mapGetters} from 'vuex'\n\nexport default {\n  name: 'flame',\n  components: {\n    ball\n  },\n  data: function () {\n    return {\n    }\n  },\n  methods: {\n    run: function () {\n      this.$refs.ball.run()\n    },\n    mapchipStyle: function (row, col) {\n      var color = this.mapchips[row][col]\n      return {\n        'width': this.mapchipSize + 'px',\n        'height': this.mapchipSize + 'px',\n        'background-color': color}\n    }\n  },\n  computed: {\n    ...mapState('manager', ['screenWidth', 'screenHeight', 'mapchips', 'mapWidth', 'mapHeight']),\n    ...mapGetters('manager', ['mapchipSize']),\n    flameStyle: function () {\n      var sizeW = this.mapchipSize * this.mapHeight\n      var sizeH = this.mapchipSize * this.mapWidth\n      return {'width': sizeW + 'px', 'height': sizeH + 'px'}\n    },\n    marginStyle: function () {\n      var sizeTB = (this.screenHeight - this.mapchipSize * this.mapWidth) / 2\n      var sizeLR = (this.screenWidth - this.mapchipSize * this.mapHeight) / 2\n      return {\n        'margin-top': sizeTB + 'px',\n        'margin-bottom': sizeTB + 'px',\n        'margin-left': sizeLR + 'px',\n        'margin-right': sizeLR + 'px'}\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.flame {\n    position: relative;\n}\n\n.maprow {\n    display: flex;\n}\n\n.mapchip {\n    background-color: grey;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Flame.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flame\",style:([_vm.flameStyle, _vm.marginStyle])},[_vm._l((_vm.mapchips),function(row,index_r){return _c('div',{key:row.id,staticClass:\"maprow\"},_vm._l((row),function(chip,index_c){return _c('div',{key:chip.id,staticClass:\"mapchip\",style:(_vm.mapchipStyle(index_r,index_c))})}),0)}),_vm._v(\" \"),_c('ball',{ref:\"ball\"})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5677ad2e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Flame.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5677ad2e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Flame.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Flame.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Flame.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5677ad2e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Flame.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5677ad2e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Flame.vue\n// module id = null\n// module chunks = ","<template>\n\n    <div class=\"content\">\n        <div> alpha: {{this.gyro.alpha}} </div>\n        <div> beta: {{ this.gyro.beta }} </div>\n        <div> gamma: {{ this.gyro.gamma }} </div>\n        <flame ref='flame'></flame>\n    </div>\n\n</template>\n\n<script>\nimport flame from './Flame'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'Main',\n  components: {\n    flame\n  },\n  data: function () {\n    return {\n      permission: false\n    }\n  },\n  computed: {\n    ...mapState('manager', ['deltaTime', 'updateFlg', 'gyro'])\n  },\n  methods: {\n    windowResize: function () {\n      this.$store.dispatch('manager/setScreenSize', {width: window.innerWidth, height: window.innerHeight})\n    },\n    getDeviceGyro: function (dat) {\n      this.$store.dispatch('manager/setDeviceGyro', {alpha: dat.alpha, beta: dat.beta, gamma: dat.gamma})\n    },\n    run: function () {\n      this.$refs.flame.run()\n    }\n  },\n  watch: {\n    updateFlg: function () {\n      this.run()\n    }\n  },\n  mounted: function () {\n    this.$store.dispatch('manager/setScreenSize', {width: window.innerWidth, height: window.innerHeight})\n    this.$store.dispatch('manager/loadMapChips')\n      .then(() => {\n        this.$store.dispatch('manager/startUpdateAsync')\n      })\n    window.addEventListener('resize', this.windowResize)\n    window.addEventListener('deviceorientation', this.getDeviceGyro)\n  },\n  beforeDestroy: function () {\n    window.removeEventListener('resize', this.windowResize)\n    window.removeEventListener('deviceorientation', this.getDeviceGyro)\n    this.$store.dispatch('manager/stopUpdateAsync')\n  }\n}\n</script>\n\n<style scoped>\n.content {\n    position: relative;\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Main.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('div',[_vm._v(\" alpha: \"+_vm._s(this.gyro.alpha)+\" \")]),_vm._v(\" \"),_c('div',[_vm._v(\" beta: \"+_vm._s(this.gyro.beta)+\" \")]),_vm._v(\" \"),_c('div',[_vm._v(\" gamma: \"+_vm._s(this.gyro.gamma)+\" \")]),_vm._v(\" \"),_c('flame',{ref:\"flame\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-275ccd1c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Main.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-275ccd1c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Main.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-275ccd1c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Main.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-275ccd1c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Main.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"content\">\r\n        <div\r\n        style=\"z-index: 1; position: absolute; width: 100%; height: 100%;\r\n        background-color: #000;\"\r\n        v-on:click='requestDeviceSensor()'>\r\n        </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Title',\r\n  methods: {\r\n    requestDeviceSensor: function () {\r\n      if (window.DeviceOrientationEvent && typeof DeviceOrientationEvent.requestPermission === 'function') {\r\n        console.log('!')\r\n        DeviceOrientationEvent.requestPermission()\r\n          .then(\r\n            (response) => {\r\n              if (response === 'granted') {\r\n                this.$store.dispatch('manager/setControllType', 'gyro')\r\n                this.$router.push('/game')\r\n              }\r\n            }\r\n          )\r\n      } else {\r\n        this.$store.dispatch('manager/setControllType', 'keyboard')\r\n        this.$router.push('/game')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Title.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('div',{staticStyle:{\"z-index\":\"1\",\"position\":\"absolute\",\"width\":\"100%\",\"height\":\"100%\",\"background-color\":\"#000\"},on:{\"click\":function($event){return _vm.requestDeviceSensor()}}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-171566f2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Title.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-171566f2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Title.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Title.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Title.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-171566f2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Title.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-171566f2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Title.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Main from '@/components/Main'\nimport Title from '@/components/Title'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Title',\n      component: Title\n    },\n    {\n      path: '/game',\n      name: 'Main',\n      component: Main\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","\nconst state = {\n  fps: 60,\n  deltaTime: 0,\n  intervalID: undefined,\n  updateFlg: true,\n  screenWidth: undefined,\n  screenHeight: undefined,\n  mapchips: [],\n  mapWidth: undefined,\n  mapHeight: undefined,\n  startPos: {x: 0, y: 0},\n  gyroAvailable: false,\n  gyro: {alpha: 0, beta: 0, gamma: 0},\n  controllType: 'gyro',\n  isAvailableGyro: true\n}\n\nconst getters = {\n  mapchipSize (state) {\n    return Math.min(state.screenWidth / state.mapWidth, state.screenHeight / state.mapHeight)\n  }\n}\n\nconst actions = {\n  initState ({commit, state}) {\n\n  },\n  setDeviceGyro ({commit, state}, {alpha, beta, gamma}) {\n    console.log('getDeviceGyro')\n    commit('setDeviceGyro', {alpha: alpha, beta: beta, gamma: gamma})\n  },\n  startUpdateAsync ({ commit, state }) {\n    commit('setDeltaTime', 1 / state.fps)\n    var id = setInterval(() => {\n      commit('inversionUpdateFlg')\n    }, 1000 / state.fps)\n    commit('setIntervalID', id)\n  },\n  stopUpdateAsync ({ commit, state }) {\n    clearInterval(state.intervalID)\n  },\n  setScreenSize ({ commit, state }, { width, height }) {\n    commit('setScreenWidth', width)\n    commit('setScreenHeight', height)\n  },\n  loadMapChips ({ commit, state }) {\n    // jsonファイルから読み込みたい\n    var chips = [\n      ['black', 'black', 'black', 'black', 'black', 'black', 'black'],\n      ['black', 'white', 'white', 'white', 'white', 'white', 'black'],\n      ['black', 'white', 'black', 'white', 'black', 'white', 'black'],\n      ['black', 'white', 'white', 'white', 'white', 'white', 'black'],\n      ['black', 'white', 'black', 'white', 'black', 'white', 'black'],\n      ['black', 'white', 'white', 'white', 'white', 'white', 'black'],\n      ['black', 'black', 'black', 'black', 'black', 'black', 'black']\n    ]\n    commit('setMapChips', chips)\n    commit('setStartPos', {x: 1, y: 1})\n  },\n  setControllType ({commit, state}, type) {\n    commit('setControllType', type)\n  }\n}\n\nconst mutations = {\n  inversionUpdateFlg (state) {\n    state.updateFlg = !state.updateFlg\n  },\n  setDeltaTime (state, time) {\n    state.deltaTime = time\n  },\n  setIntervalID (state, id) {\n    state.intervalID = id\n  },\n  setScreenHeight (state, height) {\n    state.screenHeight = height\n  },\n  setScreenWidth (state, width) {\n    state.screenWidth = width\n  },\n  setMapChips (state, chips) {\n    state.mapchips = chips\n    state.mapWidth = chips[0].length\n    state.mapHeight = chips.length\n  },\n  setStartPos (state, pos) {\n    state.startPos = pos\n  },\n  setDeviceGyro (state, gyro) {\n    state.gyro.alpha = (gyro.alpha == null ? 0 : gyro.alpha)\n    state.gyro.beta = (gyro.beta == null ? 0 : gyro.beta)\n    state.gyro.gamma = (gyro.gamma == null ? 0 : gyro.gamma)\n    if (Math.abs(gyro.beta) < 90) {\n      state.isAvailableGyro = true\n    } else {\n      state.isAvailableGyro = false\n    }\n  },\n  setControllType (state, type) {\n    state.controllType = type\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  actions,\n  getters,\n  mutations\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/manager.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport manager from './manager'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  modules: {\n    manager\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}